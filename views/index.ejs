<%- include("partial/header.ejs")  %>
<% let date = new Date(); %>
<div class="box">
    <% if(locals.day && locals.textMonth && locals.listTitle){ %>
    <h1><%=listTitle  %></h1>
    <h2><%= day + ", " + date.getDate() + " " + textMonth %></h2>
    <%  }else if(locals.listTitle){%>
           <h1><%= listTitle%></h1> 
   <% }%>
</div>
<div class="list-group box">
    <% if(locals.newListItems){ %>
        <% newListItems.forEach(item => { %>

            <form action="/delete" method="post">
            <div class="item">
                <input class="form-check-input me-1" type="checkbox" name="checkbox" value="<%= item._id %>" onChange="this.form.submit()">
                    <p><%=item.name  %></p>
            </div>
            <input type="hidden" name="listName" value="<%= listTitle  %>"></input>
        </form>
        <% }) %>
        <% }else{} %>
        <form action="/" method="post" class="item">
            <input type="text" name="newToDo" placeholder="New ToDo">
            <button class="btn btn-primary" type="submit" name="list" value="<%= listTitle %>">Add ToDo</button>
        </form>
</div>

<%- include("partial/footer.ejs")  %>